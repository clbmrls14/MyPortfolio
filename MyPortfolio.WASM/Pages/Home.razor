@page "/"
@inject MyPortfolio.WASM.ProjectApiService projectApi

@using MyPortfolio.Shared
<!-- Begin Header -->

<header>
    <table>
        <tr>
            <td class="name">
                <h1 class="first_name">Caleb</h1>
            </td>
            <td class="contact_info">
                <h5 class="first_name">clbmrls014@gmail.com</h5>
            </td>
        </tr>
        <tr>
            <td class="name">
                <h1 class="last_name">Morales</h1>
            </td>
            <td class="contact_info">
                <h5 class="linkedin contact_info" style="font-weight: 400;"><a href="https://www.linkedin.com/in/caleb-morales-415882199/">Connect with me on LinkedIn!</a></h5>
            </td>
        </tr>
    </table>

</header>

<!-- End Header -->

<!-- Begin Content -->

<article>
    <h1>My Portfolio</h1>
    <ul>
        @foreach (var p in projects)
        {
            <li>@p.Title</li>
            <template>
                @p.Requirements
            </template>
        }
    </ul>
    <br/>

</article>

<!-- End Content -->

@code {
    private string newProjectName;
    private IEnumerable<Project> projects = new List<Project>();

    private async Task addProject()
    {
        var project = new Project
        {
            Title = newProjectName
        };
        await projectApi.AddProjectAsync(project);

    }

    private async Task GetProjects()
    {
        projects = await projectApi.GetProjectsAsync();
    }

    protected override async Task OnInitializedAsync()
    {

    }
}
