@page "/newproject"
@inject MyPortfolio.WASM.ProjectApiService projectApi

@using MyPortfolio.Shared

<div>
    <h3>NewProject</h3>
    <div class="input-field">
        <input @bind-value="newTitle" placeholder="Project Title" />
    </div>
    <div class="input-field">
        <input @bind-value="newRequirements" placeholder="Project Requirements" />
    </div>
    <div>
        <textarea @bind="newDescription" placeholder="Project Description" />
    </div>
    <div class="input-field">
        <button @onclick="addProject">Add Project</button>
    </div>
</div>
<!-- Begin Footer-->
<div class="page-footer">
    <p>&copy; Caleb Morales, 2020</p>
</div>
<!-- End Footer-->

@code {
    private string newTitle;
    private string newRequirements;
    private string newDescription;

    private async Task addProject()
    {
        var project = new Project
        {
            Title = newTitle,
            Requirements = newRequirements,
            Description = newDescription,
            CompletionDate = DateTime.Now
        };
        await projectApi.AddProjectAsync(project);
    }

}
